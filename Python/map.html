<!DOCTYPE html>
<html>
   <meta charset="UTF-8">
   <title>Python map (draft)</title>
<head>
<script type="module">import "/map_v1.js";</script>
<link rel="stylesheet" type="text/css" href="/map_v1.css" />
</head>

<body>

<div groupv>
<pre zoom TODO>
<span xsmall>External Links</span>
- @[https://www.python.org/]
- @[https://docs.python.org/3/]
- @[https://www.python.org/dev/peps/]
- @[https://developers.google.com/edu/python/]
- @[https://www.pythoncheatsheet.org/]
- @[https://docs.python.org/3/library/functools.html]
  Functional Programming: partial funcs., lru_cache ("memoization"), iterable reduce (to value), ...


<span xsmall>Magazines/Blogs</span>
- @[https://realpython.com/]

<span xsmall>Bibliography</span>
- @[https://wiki.python.org/moin/PythonBooks]
- @[https://scaling-python.com/]
- @[https://serious-python.com/index.html]
</pre>

<pre zoom labels="jypyter,charts,TODO">
<span xsmall>Python IDEs</span>
https://www.analyticsvidhya.com/blog/2020/06/5-python-ide-analytics-data-science-programming/

BºJupyterº
  - web application,  server-client structure which is free, open-source, and easy to use.
    Its name is a reference to three core programming languages supported by Jupyter:
    Julia, Python, and R. But Jupyter supports over 40 programming languages!

 - next generation JupyterLab launched in 2018. 
   It is a web-based IDE for data science.

 - Interactive output
 - You can create great notebooks containing visualizations, markdown 
   text explanations, even Latex equations!
 - It brings the terminal, text editor, console, and file directory view "toghether".
   with a flexible layout.
 - magic commands and notebook extensions augment the functionalities. Ex:
   auto-formatting, debugging, autosave, auto code completion, ...
   There is even a zen mode extension to minimize distractions and maximize productivity!

   Productive Jupyter Notebook Hacks, Tips and Tricks!:
   https://www.analyticsvidhya.com/blog/2020/04/10-productive-jupyter-notebook-hacks-tips-tricks/

 - notebooks can be exported to pdf, .py, slides, ...!!!

 - bqplot (https://github.com/bqplot/bqplot) [charts]
   2-D visualization system for Jupyter, based on the constructs of the Grammar of Graphics.

BºPyDevº
  - Eclipse based. 
  - huge developer community
  - plethora of plugins available 
  - Django integration
  - code completion 
  - On-the-fly code analysis 
  - Refactoring capability 
  - Debugger: conditional breakpoints, expression evaluation,
              view the variables in the current stack.
  - Remote debugging capability to debug external programs
  - Interactive console for Python, Jython, and IronPython 
  - unit testing capability through unittest, nosetest or pytest
  -BºDjango pre-installedº to develop web-applications
  - the recommended way of using PyDev is by installing LiClipse which 
    bundles PyDev along with a lightweight editor. 

BºCompletion of Code Extensions for Vim/NeoVimº
  - Recomended for "big projects"
  - CoC allows reusing VisualStudio plugins inside Vim/NeoVim through the Server Language Protocol
  - Coc-Pyright:
    - https://github.com/fannheyward/coc-pyright
      - Commands:
        python.runLinting      : Run linting
        python.sortImports     : Sort imports by isort
        pyright.organizeimports: Organize imports by Pyright
        pyright.restartserver  : forces type checker to discard all cached type information and restart analysis.
                                 It is useful in cases where new type stubs or libraries have been installed.
        pyright.createtypestub : Creates Type Stubs with given module name, for example 
                                 :CocCommand pyright.createtypestub numpy
    - https://github.com/fannheyward/coc-pyright
      - Features:
        completionItem/resolve
        textDocument/codeAction Bº(refactor.inline, refactor.extract)º
        textDocument/completion Bº(including snippets)º
        textDocument/definition
        textDocument/documentHighlight
        textDocument/documentSymbol
        textDocument/hover
        textDocument/publishDiagnostics
        textDocument/references
        textDocument/rename
        textDocument/signatureHelp
        workspace/symbol


BºSpyderº
  - Scientific Python Development Environment:
    - lightweight, free, and open-source.
  - written 100% in Python.
  - Designed exclusively for data scientists and analysts.
  - very basic interface  all in a single window:
    - text editor
    - file explorer
    - variable explorer:
      - shows variables, functions, modules, etc. of 
        the currently selected IPython Console session. 
      - It also provides several built-in support for editing objects 
        like lists, strings, tuples, etc. along with a really awesome
        feature to display some of them as an image or even a plot!

  -Bºbuilt-in integration with many popular scientific packages includingº
   BºNumPy, SciPy, Pandas, IPython, and others,º

  - features include:
    - pretty decent code editor: code completion, real-time code analysis.
    - interactive code execution that allows you to execute your code by line,
       by cell block, or run the entire file in a single go.
    - Static code analysis feature detects style issues, bad practices, 
      potential bugs, and other quality problems in your code, without even
      having to actually execute it using ºPyLintº.
    - Debugger: It allows breakpoints and the execution flow to be viewed
                and controlled right from the Spyder GUI
    - Profiler:
    - basic Git version control system
    - History log pane records all commands introduced in the editor and IPython console
    - Help pane offers documentation about modules, classes, functions, and methods.

  - pre-installed with Anaconda

BºPyCharmº
  -  By JetBrains.
  -  code editor: It has syntax and error highlighting, code analysis, and quick fixes 
     for instantly improving the code. Additional features like auto-code generation, 
     auto-indentation, code folder, etc.
  -  When starting a new project in PyCharm, you can choose from:
     - Virtualenv, Pipenv, or Conda
  -  easy navigation capability, ex. locate any usage for your symbol in the entire project.
  -  bookmarks, TODOs
  -  Refactoring
  -Bºdebuggerº
  -  Integrated unit testing
  -  Integrated Version Control System (CVS, Git, Mercurial, Perforce, Subversion)
  -  extensible through plugins
</pre>


<pre zoom TODO>
<span xsmall>Who-is-Who</span>
(Forcibly incomplete but still quite pertinent list of core people and companies)
People:
 - Guido Van Rosum
 - Tim Peters
- Companies/Projects
  @[http://www.pocoo.org/]
    Pocoo was a loosely assembled team of Open Source developers working on some 
    very popular Python projects. Out of this came the Pygments syntax highlighter
    , the Sphinx documentation system, the Flask web framework, the Jinja 
    templating engine, the Werkzeug WSGI library, the Click command line toolkit 
    and much more. It was led by Armin Ronacher and Georg Brandl. 
</pre>

<pre zoom bgorange labels="">
<span xsmall>Zen of programming</span>
- Avoid the Billion dolar mistake <a href="https://en.wikipedia.org/wiki/Tony_Hoare">[more info]</a>
  Don't use Null/None values. Use default values instead.

- Premature optimization is the root of all evil 
    <a href="https://en.wikipedia.org/wiki/Program_optimization#When_to_optimize">[More info]</a>
    Don't expend time saving CPU instructions until you are sure that such instructions
    are executed hundreds of thousands of times in a seconds for long periods of time.
    HINT: In most scenarios, your CPU waste more time idle waiting for data that processing it.
          Put you data close to your CPU to make things "run fast".
          (GPU work fast by using many slow CPUs with isolated RAM close to each CPU )

- Inmutable structures will not fail once build. Mutable will (sometimes).

- An exception that can be fixed in code is not an exception, is a 
  contemplated state. (It's just an state that you don't like that 
  much). Use normal return values indicating the contemplated state
  - An exception that can NOT be fixed, can NOT be fixed.
  - If the software is wrong, your program must inform the 
    developer (assert, log and popup "sorry the developer is an idiot")
  - If the hardware/network is wrong, your program  must inform the 
    IT admin (log and popup "sorry, it's not your fault, System admin is an idiot")
  - If the user is wrong, your program must inform the user 
    (popup "sorry, you are an idiot")

- What you call a "CPU" is actually a Turing Machine @[https://en.wikipedia.org/wiki/Turing_machine]:
  - A Turing Machine is single threaded and operates on a single tape.
  - All the infinite algorithms that one can imagine are single 
    threaded and can be resolved by a Turing Machine with enough memory 
    and time (maybe infinite memory and time).
  - Multiprocess means "many turing machines running at the same time".
  - Multihread means "many turing machines fighting each other",
    but in rare occasions threads can be orchestated to build a
    new and faster Turing Machine. If you don't now what that means
    DO NOT USE thread.
  - In case of doubt, do NOT use multithread
  - I cheated you. The Turing machine doesn't exists. Real CPUs needs data 
    from external systems and writes computation results
    to external systems. That's what we call I/O (Input/Output).
  - If data takes time to arrive you can try to use the
    Touring Machine for other tasks for which input data is
    already available. That's what we call Asyncrhonous I/O.
  - Algorithms plus data structures == Program
</pre>

<pre zoom>
 <span xsmall>Zen of Python</span>
@[https://www.python.org/dev/peps/pep-0020/]
˃˃˃ import this
The Zen of Python, by Tim Peters
Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren't special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one-- and preferably only one --obvious way to do it.
Although that way may not be obvious at first unless you're Dutch.
Now is better than never.
Although never is often better than ºrightº now.
If the implementation is hard to explain, it's a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea -- let's do more of those!
</pre>


</div>


<div groupv>
<span title>Learn X in Y min</span>
<pre zoom>
<span xsmall>Error Handling</span>
def spam(divideBy):
    try:
        return myIntVar / divideBy
    except ZeroDivisionError as e:
        print('Error: Invalid argument: {}'.format(e))
    finally :
        print('Either there was an error or a division')


<span xsmall>Context Manager("with")</span>
<span xsmall></span>
ºwithº
- A context manager is an object (file objects, ...) that is notified when a context 
  ("block of code") starts and ends.
- When a context ends, the file object is closed automatically:
- The "with" statement takes care of the notifying.

01 with open(filename) as openFile:
02     file_contents = openFile.read()
03 ...       #  ← here openFile is closed

ºHand writen Context Managerº

import ºcontextlibº
º@contextlib.contextmanagerº
def Bºcontext_manager(num)º: 
    print('OºEnterº')
    yield num + 1    # ← Generator
    print('GºExitº')
    print('')

˃˃˃ with Bºcontext_manager(2)º as cm:
˃˃˃     # the following instructions are run when
˃˃˃     # the 'yield' point of the context
˃˃˃     # manager is reached.
˃˃˃     # 'cm' will have the value that was yielded
˃˃˃     print('QºEnterºRight in the middle</b>')

OºEnterº
QºEnterºRight in the middle</b>
GºExitº

<span xsamll>Float/Decimal/Fraction</span>
Float   : follows IEEE 754 ("C") fast but with finite precission.
Decimal : arbitrary precission. Represents number like an integer (default to 28 possition).
          Recommended for Finances (precission known a priori)
Fraction: Any rational number. Stores as two numbers. 

from decimal import Decimal
from fractions import Fraction

a1 = 0.1    | a2 = Decimal('0.1') | a3 = Fraction(1,10)
b1 = 0.2    | b2 = Decimal('0.2') | b3 = Fraction(2,10)
c1 = 0.3    | c2 = Decimal('0.3') | c3 = Fraction(3,10)

c1 == a1+b1 | c2 == a2+b2         | c3 == a3+b3 ; 
RºFALSEº    | BºTRUEº             | BºTRUEº 

<span xsmall>f Strings(3.6)</span>
easy text formating.ºRecomended over any other "old" optionº

Ex:
userVar = "Franky"
mensaje = f"Hello {userVar}!"
          ^

<span xsmall>Pathlib 3.4+</span>
Simplies file-system multipaths (and multiplatform).

from pathlib import Path
path = Path('/var')  
path = pathº/º'lib'      
path = pathº/º'app1'   
print(path.resolve()) # ← /var/lib/app1

<span xsmall>Enums 3.4+</span>
from enum import Enum, auto

class OperatingSystem(Enum):
    LINUX     = auto()
    MACOSX    = auto()
    WINDOWSNT = auto()
    HAIKU     = auto()
    SOLARIS   = auto()

<span xsmall>Data classes</span>
Specially important when a given data structure is considered part of the spec
(think of TCP/IP packets,...)

  from dataclasses import dataclass

 º@dataclassº
  class packet:
      header     : str
      destination: int
      body       : str
                   ^^^
                   type hints (3.5+)
  
      def destinationAsString(self):
          return ...
  
  packet = packet("header...",123001,"body ....")
  packet.destinationAsString()



</pre>

<pre zoom TODO>
<span xsmall>Exception Handling</span>
Exceptions are raised with a raise statement. In code, a raise statement consists of the following:

def functA(...):
    if assertValue == False:
       ºraiseº Exception('This is the error message.')

try:
    functA(sym, w, h)
except Exception as err:
    print f('trapped exception {err}')   # ← Print exception
    with open('log.txt', 'w') as fA:     
        fA.write(traceback.format_exc()) # ← Write traceback to file


<span xsmall>Assertions</span>
In plain English, an assert statement says, 
"I assert that this condition holds true, and if not,
 ºthere is a bug somewhere in the program.º"

Bºcode should not handle assert statements with try and except.º
  It must fail-fast and crash!!
@[https://en.wikipedia.org/wiki/Fail-fast]


Ex Ussage:
status = 'open'
assert status == 'open', 'Status expected to be "open"'

Assertions can be disabled by passing theº-Oºoption flag
</pre>

<pre zoom labels="">
<span xsmall TODO>Debugging</span>
- dir (objectInstance) : Show object attributes or local variables.
- vars(objectInstance) : More detailed than dir (and harder to read).
- type(objectInstance) : Returns the type of a variable.
- help : shows doc related to class or function.

<span xsmall TODO>PDB Debugging</span>
ºStandard debugging before 3.7 breakpoint()º
import pdb
...
pdb.set_trace() # ← enters interactive console debugging session 
                  RºPROBLEM:º What if the breakpoint is on a server/threaded task

ºStandard debugging in Python 3.7+:º
- Python 3.7 implements newer PEP553
def functionA:
    object_l = [....]
    ...
   ºbreakpoint()º  # ← No import needed. Automatically enters debug/pdb mode 
                   #   By default it will import pdb and call pdb.set_trace() 
                   #   yielding a pdb session on the command line.
                   #   BºPYTHONBREAKPOINTº can be used to modify the default behaviour

BºPYTHONBREAKPOINTº ENVIRONMENT VARIABLE:
  - PYTHONBREAKPOINT=0                     # ← disable breakpoints 
                                           #   no need to remove from code!!!

    PYTHONBREAKPOINT=pudb.set_trace python3.7 start.py
                     ^^^^
                     - equivalent to replacing breakpoint() by
                       import pudb ; pudb.set_trace()
                     - Pudb is a (much better) alternative to pdb library and
                       interactive console debugger. To install it:
                       $ºsudo pip3 install pudbº
                       @[https://pypi.org/project/pudb/]
  
    PYTHONBREAKPOINT=web_pdb.set_trace python3.7 appServer.py
                     ^^^^^^^^^^^^^^^^^ 
                    ºremote debugging and threadsº
                     - When deploying server apps most probably they are
                       not executed from the command-line, but from gevent, WSGI, ....
                       breakpoint() will call a new web_pdb.set_trace() service
                       listening on localhost:5555.  web-pdb is a remote web debugger.
                       To install it:
                       $ºsudo pip install web-pdbº
                       @[https://pypi.org/project/web-pdb/]
</pre>

<pre zoom TODO>
<span xsmall TODO >Logging</span>
To enable the logging module to display log messages on your screen 
as your program runs, copy the following to the top of your program 
(but under the #! python shebang line):

import logging

logging.basicConfig(level=logging.DEBUG, format=' %(asctime)s - %(levelname)s- %(message)s')

Say you wrote a function to calculate the factorial of a number. In 
mathematics, factorial 4 is 1 × 2 × 3 × 4, or 24. Factorial 7 is 1 
× 2 × 3 × 4 × 5 × 6 × 7, or 5,040. Open a new file editor 
window and enter the following code. It has a bug in it, but you will 
also enter several log messages to help yourself figure out what is 
going wrong. Save the program as factorialLog.py.

˃˃˃ import logging
˃˃˃
˃˃˃ logging.basicConfig(level=logging.DEBUG, format=' %(asctime)s - %(levelname)s- %(message)s')
˃˃˃
˃˃˃ logging.debug('Start of program')
˃˃˃
˃˃˃ def factorial(n):
˃˃˃
˃˃˃     logging.debug('Start of factorial(%s)' % (n))
˃˃˃     total = 1
˃˃˃
˃˃˃     for i in range(1, n + 1):
˃˃˃         total *= i
˃˃˃         logging.debug('i is ' + str(i) + ', total is ' + str(total))
˃˃˃
˃˃˃     logging.debug('End of factorial(%s)' % (n))
˃˃˃
˃˃˃     return total
˃˃˃
˃˃˃ print(factorial(5))
˃˃˃ logging.debug('End of program')
2015-05-23 16:20:12,664 - DEBUG - Start of program
2015-05-23 16:20:12,664 - DEBUG - Start of factorial(5)
2015-05-23 16:20:12,665 - DEBUG - i is 0, total is 0
2015-05-23 16:20:12,668 - DEBUG - i is 1, total is 0
2015-05-23 16:20:12,670 - DEBUG - i is 2, total is 0
2015-05-23 16:20:12,673 - DEBUG - i is 3, total is 0
2015-05-23 16:20:12,675 - DEBUG - i is 4, total is 0
2015-05-23 16:20:12,678 - DEBUG - i is 5, total is 0
2015-05-23 16:20:12,680 - DEBUG - End of factorial(5)
0
2015-05-23 16:20:12,684 - DEBUG - End of program

BºLOGGING LEVELS:º
  logging.debug() 
  logging.info()  
  logging.warning()
  logging.error()    
  logging.critical()

Disabling Logging

After you’ve debugged your program, you probably don’t want all these log messages cluttering the screen. The logging.disable() function disables these so that you don’t have to go into your program and remove all the logging calls by hand.

˃˃˃ import logging

˃˃˃ logging.basicConfig(level=logging.INFO, format=' %(asctime)s -%(levelname)s - %(message)s')

˃˃˃ logging.critical('Critical error! Critical error!')
2015-05-22 11:10:48,054 - CRITICAL - Critical error! Critical error!

˃˃˃ logging.disable(logging.CRITICAL)

˃˃˃ logging.critical('Critical error! Critical error!')

˃˃˃ logging.error('Error! Error!')

Logging to a File

Instead of displaying the log messages to the screen, you can write them to a text file. The logging.basicConfig() function takes a filename keyword argument, like so:

import logging

logging.basicConfig(filename='myProgramLog.txt', level=logging.DEBUG, format='%(asctime)s - %(levelname)s - %(message)s')
</pre>

<pre zoom labels="101,troubleshooting">
<span xsmall TODO>profiling</span>
Bº%timeitº
Simple way to time small bits of Python code
@[https://docs.python.org/3/library/timeit.html]
$ python3 -m timeit '"-".join(str(n) for n in range(100))'
10000 loops, best of 5: 30.2 usec per loop
$ python3 -m timeit '"-".join([str(n) for n in range(100)])'
10000 loops, best of 5: 27.5 usec per loop
$ python3 -m timeit '"-".join(map(str, range(100)))'
10000 loops, best of 5: 23.2 usec per loop

import timeit
timeit functImplementation1()
1000 loops, best of 3: 322 us per loop
%timeit functImplementation2()
1000 loops, best of 3:   1 us per loop
</pre>


</div>

<div groupv>
<span title>Collections</span>
<pre zoom>
<span xsmall>Lists</span>
var_l = ['aaa', 'bbb', 'ccc', 'ddd']                 ºRemove list elementsº
          ^^^                  ^^^                   del var_l[2]
          var_l[0]             var_l[-1]             var_l.remove('ccc')  # first match removed only
                               var_l[len(var_l)-1]   
                               var_l[3]              ºAppend elementº
                                                     var_l.append('eee')
var_l = list ( ('a', 1, 1.3) ) # from tuple
var_l = ('hello')              # from string
['h', 'e', 'l', 'l', 'o']

ºsortº                                                    ºInsertº
var_l.sort()                                         var_l.insert(1, '111')
var_l.sort(reverse=True)
var_l.sort(str.lower)   # alpha. order
copy_sorted_l = sorted(var_l)

WARN: List are mutables:      ºList Concatenationº
var_l[3]='fff'                [1, 2] + ['A', 'B']
                              [1, 2, 'A', 'B']
var_l[0:2]  # ← list slice    
var_l[ :2]  # ← list slice    ºList multiplicationº
var_l[2: ]  # ← list slice    ['a', 'b'] * 2
['aaa', 'bbb']                ['a', 'b', 'a', 'b']

<span xsmall>Walk over Lists</span>
for idx, elementIdx in ºenumerateº(var_l):
    print(str(idx), elementIdx)

for e1, e2 in ºzipº(var1_l, var2_l):
  print(e1, e2)

º"query" for elementº
'c' in ['a', 'b', 'c']   'g' in ['a', 'b', 'c']    'g' not in ['a', 'b', 'c']
True                     False                     True 

['a', 'b', 'c'].index('b')
1

<span xsmall>List comprehension</span>
myList_l = [1, 3, 5, 7, 9, 11]
˃˃˃ [i - 1 for i in myList_l]
[0, 2, 4, 6, 8, 10]

<span xsmall>Tuples</span>
- Inmutable ordered set
var_t = ('a', 1, 1.3)
var_t[1:2] # slice
var_t = tuple( var_list ) 
  
<span xsmall>Dictionaries (Structuring Data)</span>
Dictionary == In-memory database of key-value pairs.
myDict_d = {                   
    'key1': 'value1',          
    'key2': 'value2', 
    ...
}

ºAdd new key-value only if key is not yet in dict:º
  if not 'a' in myDict_d.keys():     alt 1:
      myDict_d['a'] = 0
  myDict_d['a'] = myDict_d['a'] + 1
  myDict_d.setDefault('a', 0)        alt 2:
  myDict_d['a'] = myDict_d['a'] + 1

myDict_d.ºsetdefaultº('keyN', 'valueN')


ºdict.get("key",defaultValue)  vs dict.["key"]º
- get returns a default value for non-existing keys
- .["key"] raises KeyError Exception.
  ┌───────────────────────────────────────┬───────────────────────────────────┐
  │ myDict_d['existingKey']               │  myDict_d.get('existingKey',0)    │ 
  │ valueForExistingKey                   │  valueForExistingKey              │ 
  ├───────────────────────────────────────┼───────────────────────────────────┤
  │ myDict_d['NonExistingKey']            │  myDict_d.get('NonExistingKey',0) │
  │ Traceback (most recent call last):    │  0                                │
  │   File ...                            │                                   │
  │ KeyError: 'NonExistingKey'            │                                   │
  └───────────────────────────────────────┴───────────────────────────────────┘

<span xsmall>Walk over dict</span>
  
- Walking over values:                | Walking over keys:                  
  for value in myDict_d.ºvalues()º:   | for key in myDict_d.ºkeys()º:       
        print(value)                  |     print(key)                      


| Walking over key/value item pairs:
| for key,value in myDict_d.ºitems()º:
|     print('Key: {}, Value: {}'.format( key, str(value) ) )


ºCheck if Key or Value Existsº
'QueriedForKey' in myDict_d.keys()     QueriedForValue in myDict_d.values()
True|False                 ^^^^^^^     True|False
                           optional

ºMerging dictionariesº

myDict3_d = {  ººmyDict1_d, ººmyDict2_d} # Python 3.5+:
myDict3_d = dict(myDict1_d, ººmyDict2_d) # in Python 2.7
                 ^^^^^^^^^^^^^^^^^^^^^^
          if key is in myDict1_d and myDict2_d
          value in myDict2_d is choosen

<span xsmall>Dict comprehension</span>
- Equivalent to SQL: SELECT ... FROM ... WHERE ... 
myDict_d = {'key1': value1, 'key2': value2}
˃˃˃ {v, k for k, v in myDict_d.items()}
{'key1': value1, 'key2': value2}        # ← dict to dict

˃˃˃ ["{}:{}".format(k.upper(), v.upper()) for k, v in myDict_d.items()]
['key1:value1', 'key2:value2']          # ← dict to list

<span xsmall>sets/fronzensets</span>
- Python 3+
Set == unordered collection with no duplicate elements. 
       ^^^^^^^^^^^^^^^^^^^^ 
       unordered == can NOT be indexed

Uses: - membership testing 
      - duplicate entries removal
      - ...

Initialization:

A =     {1, 2, 2, 3}   # Alt.1 . WARN: Don't use for empty sets
A = set([1, 2, 2, 3])  # Alt.2 . (Prefered way)
            ^^^^     
         Repeated elements are ignored.
         just one '2' element
B = set([3, 4, 5, 6]) 
F = frozenset([1,3])  ← inmutable and hasheable:
                        - Can be used as key in dictionaries



A.add(4)
A.update([2, 3, 4, 5, 6])  # ← Duplicates will be ignored

C = A.ºunionº(B)               # C = A | B
D = A.ºintersectionº(B, C,...) # D = A ⅋ B ⅋ C 
C = A.ºdifferenceº(B)          # C = A - B
C = A.symetric_difference(B)   # C = A ^ B
      ^^^^^^^^^^^^^^^^^^^
      returns all NON elements
      between both sets

2+ (frozen)sets can also be tested for:
-ºdisjoint sets.º
-ºsubsetsº
-ºsupersetº

A.ºremoveº(3)  #  ← Raises exception   if element does NOT exists
A.discard(3)   #  ← Continues normally if element does NOT exists


<span xsmall>Set comprehension</span>
mySet_s = {"abc", "def"}
{s.upper() for s in mySet_s}
{"ABC", "DEF}
</pre>

<pre zoom>
<span xsmall>itertools</span>
- collection of tools intented to be fast and use memory
  efficiently when handling iterators (like lists or dictionaries).

From the official Python 3.x documentation:

    The module standardizes a core set of fast, memory efficient tools
that are useful by themselves or in combination. Together, they form an
"iterator algebra" making it possible to construct specialized tools
succinctly and efficiently in pure Python.

The itertools module comes in the standard library and must be imported.

The operator module will also be used. This module is not necessary when 
using itertools, but needed for some of the examples below.

-ºaccumulate(iterable[, func])º: Makes an iterator that returns the results of a function.
            ^^^^^^^^
            Defaults to sum
   
Ex: 
data = [1, 2, 3, 4, 5]
result = itertools.accumulate(data, operator.mul)
                                    ^^^^^^^^^^^^ 
                                    takes current and "next" element 
                                    and multiplies them
                                    

-ºcombinations(iterable, r)º: creates all the unique combination that have r members. Ex:
-ºcombinations_with_replacement(iterable, r)º ← allows individual elements to be repeated more than once 

shapes = ['circle', 'triangle', 'square',]
result1 = itertools.combinations(shapes, 2)
result2 = itertools.combinations(shapes, 2)
for each in result1:
   print(each)      ← ('circle', 'triangle') ('circle', 'square') ('triangle', 'square')
for each in result1:
   print(each)      ← ('circle', 'circle') ('circle', 'triangle') ('circle', 'square')
                      ('triangle', 'triangle') ('triangle', 'square') ('square', 'square')

-ºcount(start=0, step=1)º : Creates new iterator returning evenly spaced values.
for i in itertools.count(10,3): ← 10 13 16 19 22
   print(i)
   if i ˃ 20:
       break

-ºcycle(iterable)º: function cycling through an iterator endlessly.
colors = ['red', 'orange', 'yellow']
for color in itertools.cycle(colors): ← red orange yellow red orange ...
   print(color)

-ºchain(*iterables)º: Take a series of iterables and return them as one long iterable. Ex:

colors = ['red', 'orange']
shapes = ['circle', 'triangle']
result = itertools.chain(colors, shapes) ← red orange circle triangle


-ºcompress(data, selectors)º: Filters one iterable with another.
shapes     = ['circle', 'triangle', 'square', 'pentagon']
selections = [True,     False,      True,     False]
itertools.compress(shapes, selections)   ← ['circle', 'square']

-ºdropwhile(predicate, iterable)º: Make an iterator that drops elements from
                                   the iterable as long as the predicate is true; 
                                   afterwards, returns every element. Ex:
data = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 1]
result = itertools.dropwhile(lambda x: x˂5, data)
for each in result: ← 5 6 7 8 9 10 1
   ...

-ºfilterfalse(predicate, iterable)º: Makes an iterator that filters elements from
                                     iterable returning only those for which the predicate 
                                     is False. Ex.:
data = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
result = itertools.filterfalse(lambda x: x˂5, data)
for each in result:  ← 5 6 7 8 9 10
   ...

-ºitertools.groupby(iterable, key=None)º: groups things together. 
                                          Actually is works like UNIX 'uniq', since it groups
                                          only when current and next element match. Ex:


robots = [
  { 'id': 'blas', 't': 'type1'    },
  { 'id': 'galv', 't': 'type2' },
  { 'id': 'jazz', 't': 'type1'    },
  { 'id': 'metr', 't': 'type1'    },
  { 'id': 'mega', 't': 'type2' },
  { 'id': 'star', 't': 'type2' }
]
for key, group in itertools.groupby(robots, key=lambda x: x['t']):
   print(key, list(group))
   ^^^^^   output   ^^^^^^
           vvvvvv
type1 [{'id': 'blas', 't': 'type1'}]
type2 [{'id': 'galv', 't': 'type2'}]
type1 [{'id': 'jazz', 't': 'type1'}, {'id': 'metr', 't': 'type1'}]
type2 [{'id': 'mega', 't': 'type2'}, {'id': 'star', 't': 'type2'}]

-ºislice(iterable, start, stop[, step])º: "very much" like slices, it allows 
                                          to cut out a piece of an iterable. Ex:
colors = ['red', 'orange', 'yellow', 'green', 'blue',]
itertools.islice(colors, 2) ← 'red', 'orange'

-ºpermutations(iterable, r=None)º . Ex:
input_l = ['a', 'b', 'c']
for each in itertools.permutations(input_l)
    ....    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
            ('a', 'b', 'c')
            ('a', 'c', 'b')
            ('b', 'a', 'c')
            ('b', 'c', 'a')
            ('c', 'a', 'b')
            ('c', 'b', 'a')
    

-ºproductº: Creates the cartesian products from a series of iterables.
num_data   = [1, 2, 3]
alpha_data = ['a', 'b', 'c']
result = itertools.product(num_data, alpha_data)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
         (1, 'a') (1, 'b') (1, 'c')
         (2, 'a') (2, 'b') (2, 'c')
         (3, 'a') (3, 'b') (3, 'c')
-ºrepeat(object[, times])º: repeat time 'times' (or "forever" in times not included)
itertools.repeat("Hello", 3)  ← Hello Hello Hello

-ºstarmap(function, iterable)º: Makes an iterator that computes the function using 
                                arguments obtained from the iterable. Ex.:
data = [(2, 6), (8, 4), (7, 3)]
result = itertools.starmap(operator.mul, data) ← 12 32 21

-ºtakewhile(predicate, iterable)º: opposite of dropwhile(). Creates new iterator returning
                                   elements from the iterable as long as the predicate is true. Ex.:
data = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 1]
itertools.takewhile(lambda x: x˂5, data) ← 1 2 3 4 

-ºtee(iterable, n=2)º: Return n independent iterators from a single iterable.
iterable1, iterable2 = itertools.tee(colors_l) 

-ºzip_longest(*iterables, fillvalue=None)º: "Zip" *iterables in tuples. Iteration continues until
                          ^^^^^^^^^^^^^^    the longest iterable is exhausted.  Ex:
                Used when *iterables is uneven
                or of different length.

colors = ['red', 'orange', 'yellow']
data = [1, 2, 3, 4, 5, ]
itertools.zip_longest(colors, data, fillvalue=None) ← ('red', 1) ('orange', 2) ('yellow', 3) (None, 4) (None, 5) 
</pre>
</div>

<div groupv>
<pre zoom labels="qa,TODO">
<span xsmall>Immutable Data Structures</span>
@[https://opensource.com/article/18/10/functional-programming-python-immutable-data-structures]
</pre>


<pre zoom>
<span xsmall>Dataclasses</span>
- 3.7+
- Designed for storing data.

- decorator and functions for automatically adding generated special 
  methods such as __init__() and __repr__() to user-defined classes.

Python 2.7                     DataClass (3.7+)

                               from dataclasses import dataclass
                               from typing import Any
                               º@dataclassº
class Number:                  class Number:
  def __init__(self, val):       val: int = 0
    self.val = val                     ^  ^^^
                                       |  (Opt) default value
                                    Type hint (or typing.Any)


˃˃˃ obj = Number(2)            ˃˃˃ obj = Number(2)
˃˃˃ obj.val                    ˃˃˃ obj.val
2                              2

<a TODO href="https://docs.python.org/3/library/dataclasses.html">Oficial Doc</a>
</pre>

<pre zoom>
<span xsmall>Functions</span>
def foo():
    """
    This is a function docstring
    You can also use:
    ''' Function Docstring '''
    """
    ...
    return result

<span xsmall>Lambdas</span>
 
add = ºlambdaº x, y: x + y
             ^^^^
             func. args

˃˃˃ (ºlambdaº x, y: x + y)(5, 3)
8

def build_adder(n):          # builder of lambdas
    return lambda x: x + n
plus_3 = build_adder(3)

º (args) and º* (kwargs)

- In funct. declaration:
  - '*' means:
    "pack all remaining positional arguments into a tuple      named <name>"
  - ºº   means:
    "pack all remaining positional arguments into a dictionary named <name>2


- In funct. call:
  - '*' means:
     "unpack tuple or list named <name> to positional arguments at this position"
  - 'ºº' means:
     "unpack dictionary    named <name> to positional arguments at this position"

Example:
- Wrapper function around any other function:
def forward(f, ºargs, º*kwargs):
    return f(ºargs, º*kwargs)
</pre>

<pre zoom>
<span xsmall>Strings</span>
  
String concatenation:

˃˃˃ 'Alice' 'Bob'
'AliceBob'

Note: Avoid + operator for string concatenation. Prefer string formatting.

String Replication:
˃˃˃ 'Alice' * 5
'AliceAliceAliceAliceAlice'

String format:
˃˃˃ print('It is good to meet you, {}'.format(myName))


ºEscape Charactersº
Escape     Prints as
character    
\'         Single quote
\"         Double quote
\t         Tab
\n         Newline
\\         Backslash

˃˃˃ print(ºrº'That is Carol\'s cat.')  # ºRaw Stringsº: ignores all escape characters 
That is Carol\'s cat.                         mostly used for regex definition


º'''º Multiline String
myMultilineStr = '''My Line 1,
 ...
 my last line''')

str01 = 'Hello world!'           'Hello world!'.ºstartswithº('Hello')   # True
str01[0]     # 'H'               'Hello world!'.ºendswithº  ('world!')  # True
str01[0:5]   # 'Hello'
str01[::-1]  # '!dlrow olleH'

'Hello' in 'Hello World'  # True    'Hello world!'.ºupper()º  # 'HELLO WORLD!'
'HELLO' in 'Hello World'  # False   'Hello world!'.ºlower()º  # 'hello world!'
                                    
                                    'Hello world!'.ºislower()º # False
                                    'Hello world!'.ºisupper()º # False
                                    'HELLO WORLD!'.ºisupper()º # True

myString.ºisalpha()  º #   True if string consists only of letters and is not blank.
myString.ºisalnum()  º #   True if string consists only of lettersand numbers and is not blank.
myString.ºisdecimal()º #   True if string consists only of numeric characters and is not blank.
myString.ºisspace()  º #   True if string consists only of spaces,tabs, and new-lines and is not blank.
myString.ºistitle()  º #   True if string consists only of wordsthat begin with an uppercase letter 
                                followed by onlylowercase letters.
    
', '.ºjoinº(['a', 'b', 'c']) # 'a, b, c'
'a b c'.ºsplit()º            # ['a', 'b', 'c']

Justifying Text:
   '1234'.ºrjust º(10,'+') # '+++++1234'
   '1234'.ºljust º(10,'-') # '1234-----'
   '1234'.ºcenterº(10,'|') # '|||||||Hello|||||||'
                    ^^^
                    Optional(' ' by default)

Removing Whitespace with strip, rstrip, and lstrip

'    Hello World     '.º strip()º  # 'Hello World'
'    Hello World     '.ºlstrip()º  # 'Hello World     '
'    Hello World     '.ºrstrip()º  # '     Hello World'
'Hello World '

<span xsmall>Formatting</span>
% operator (Discouraged in favor of str.format)
'Hello %s' % 'Pete'  # "Hello Pete"
'I have %x apples' % num # 

ºstr.format (Python 2.7+) º
"name: {}, age: {}".format('John', 20) # "name: John, age: 20"

<span xsmall>Lazy formatting</span>

ºFormatted String Literals f-stringsº Python 3.6+
name = 'Elizabeth'
ºfº'Hello {name}!'   # 'Hello Elizabeth!
ºfº'result: {myIntVar01 + myIntVar02}'


ºTemplate Stringsº
(simpler, less powerful)

from string import Template
name = 'Elizabeth'
t = Template('Hey $name!')
t.substitute(name=name)
'Hey Elizabeth!'
<a TODO href="https://docs.python.org/2/library/textwrap.html">textwrap lib</a>
</pre>

<pre zoom>
<span xsmall>Regex</span>
- Import the regex module with import re.
- Create a Regex object with the re.compile() function. (Remember to use a raw string.)
- Pass the string you want to search into the Regex object's search() method. 
  This returns a Match object.

import ºreº  # Step 1
phone_num_regex = re.ºcompileº(r'\d\d\d-\d\d\d-\d\d\d\d')  # step 2. Create regex object
                             ^
                             raw string

mo = phone_num_regex.ºsearchº('My number is 415-555-4242.') # step 3.
^^                           ^^^^^^^^^^^^^^^^^^^^^^^^^
Object of type "Match"       Input string to search against

print('Phone number found: {}'.format(mo.ºgroupº()))        # step 4. show results
                                         ^^^^^    
                                         returns actual matched text string
                                         (415-555-4242)

ºGrouping with Parenthesesº
phone_num_regex = re.compile(r'(\d\d\d)-(\d\d\d-\d\d\d\d)')  # step 2
mo = phone_num_regex.search('My number is 415-555-4242.')    # step 3
mo.group(1)                                                  # '415'
mo.group(2)                                                  # '555-4242'
mo.group(0)                                                  # '415-555-4242'
mo.group()                                                   # '415-555-4242'
mo.groups()                                                  # ('415', '555-4242')

Other regext examples:
r'wom(a|e)n'  # | == or        (match woman or women)
r'(wo)?man'   # ? == optional  (match man  or woman )
r'(wo)ºman'   # º == 0 or more (match man  or woman or wowoman or ... )
r'(wo)+man'   # + == 1 or more (match         woman or wowoman or ... )
r'(wo){2}man' # {2} == 2 time  (match                  wowoman )

ºGreedy vs Nongreedy Matchingº

Python’s regular expressions are greedy by default, which means 
that in ambiguous situations they will match the longest string 
possible. The non-greedy version of the curly brackets, which matches 
the shortest string possible, has the closing curly bracket followed 
by a question mark.

˃˃˃ greedy_ha_regex = re.compile(r'(Ha){3,5}')
˃˃˃ mo1 = greedy_ha_regex.search('HaHaHaHaHa')
˃˃˃ mo1.group()
'HaHaHaHaHa'

˃˃˃ nongreedy_ha_regex = re.compile(r'(Ha){3,5}?')
˃˃˃ mo2 = nongreedy_ha_regex.search('HaHaHaHaHa')
˃˃˃ mo2.group()
'HaHaHa'

The findall Method

In addition to the search() method, Regex objects also have a 
findall() method. While search() will return a Match object of the 
first matched text in the searched string, the findall() method will 
return the strings of every match in the searched string.

˃˃˃ phone_num_regex = re.compile(r'\d\d\d-\d\d\d-\d\d\d\d') # has no groups

˃˃˃ phone_num_regex.findall('Cell: 415-555-9999 Work: 212-555-0000')
['415-555-9999', '212-555-0000']

To summarize what the findall() method returns, remember the following:

    When called on a regex with no groups, such as 
\d-\d\d\d-\d\d\d\d, the method findall() returns a list of ng 
matches, such as ['415-555-9999', '212-555-0000'].

    When called on a regex that has groups, such as 
(\d\d\d)-d\d)-(\d\ d\d\d), the method findall() returns a list of es 
of strings (one string for each group), such as [('415', ', '9999'), 
('212', '555', '0000')].

Making Your Own Character Classes

There are times when you want to match a set of characters but the 
shorthand character classes (\d, \w, \s, and so on) are too broad. 
You can define your own character class using square brackets. For 
example, the character class [aeiouAEIOU] will match any vowel, both 
lowercase and uppercase.

˃˃˃ vowel_regex = re.compile(r'[aeiouAEIOU]')

˃˃˃ vowel_regex.findall('Robocop eats baby food. BABY FOOD.')
['o', 'o', 'o', 'e', 'a', 'a', 'o', 'o', 'A', 'O', 'O']

You can also include ranges of letters or numbers by using a hyphen. 
For example, the character class [a-zA-Z0-9] will match all lowercase 
letters, uppercase letters, and numbers.

By placing a caret character (^) just after the character class’s 
opening bracket, you can make a negative character class. A negative 
character class will match all the characters that are not in the 
character class. For example, enter the following into the 
interactive shell:

˃˃˃ consonant_regex = re.compile(r'[^aeiouAEIOU]')

˃˃˃ consonant_regex.findall('Robocop eats baby food. BABY FOOD.')
['R', 'b', 'c', 'p', ' ', 't', 's', ' ', 'b', 'b', 'y', ' ', 'f', 
'd', '.', '
', 'B', 'B', 'Y', ' ', 'F', 'D', '.']

The Caret and Dollar Sign Characters

    You can also use the caret symbol (^) at the start of a regex to 
indicate that a match must occur at the beginning of the searched 
text.

    Likewise, you can put a dollar sign ($) at the end of the regex 
to indicate the string must end with this regex pattern.

    And you can use the ^ and $ together to indicate that the entire 
string must match the regex—that is, it’s not enough for a match 
to be made on some subset of the string.

The r'^Hello' regular expression string matches strings that begin 
with 'Hello':

˃˃˃ begins_with_hello = re.compile(r'^Hello')

˃˃˃ begins_with_hello.search('Hello world!')
˂_sre.SRE_Match object; span=(0, 5), match='Hello'˃

˃˃˃ begins_with_hello.search('He said hello.') is None
True

The r'\d$' regular expression string matches strings that end with a numeric character from 0 to 9:

˃˃˃ whole_string_is_num = re.compile(r'^\d+$')

˃˃˃ whole_string_is_num.search('1234567890')
˂_sre.SRE_Match object; span=(0, 10), match='1234567890'˃

˃˃˃ whole_string_is_num.search('12345xyz67890') is None
True

˃˃˃ whole_string_is_num.search('12 34567890') is None
True

The Wildcard Character

The . (or dot) character in a regular expression is called a wildcard and will match any character except for a newline:

˃˃˃ at_regex = re.compile(r'.at')

˃˃˃ at_regex.findall('The cat in the hat sat on the flat mat.')
['cat', 'hat', 'sat', 'lat', 'mat']

Matching Everything with Dot-Star

˃˃˃ name_regex = re.compile(r'First Name: (.º) Last Name: (.º)')

˃˃˃ mo = name_regex.search('First Name: Al Last Name: Sweigart')

˃˃˃ mo.group(1)
'Al'

˃˃˃ mo.group(2)
'Sweigart'

The dot-star uses greedy mode: It will always try to match as much 
text as possible. To match any and all text in a nongreedy fashion, 
use the dot, star, and question mark (.*?). The question mark tells 
Python to match in a nongreedy way:

˃˃˃ nongreedy_regex = re.compile(r'˂.*?˃')
˃˃˃ mo = nongreedy_regex.search('˂To serve man˃ for dinner.˃')
˃˃˃ mo.group()
'˂To serve man˃'

˃˃˃ greedy_regex = re.compile(r'˂.*˃')
˃˃˃ mo = greedy_regex.search('˂To serve man˃ for dinner.˃')
˃˃˃ mo.group()
'˂To serve man˃ for dinner.˃'

Matching Newlines with the Dot Character

The dot-star will match everything except a newline. By passing 
re.DOTALL as the second argument to re.compile(), you can make the 
dot character match all characters, including the newline character:

˃˃˃ no_newline_regex = re.compile('.*')
˃˃˃ no_newline_regex.search('Serve the public trust.\nProtect the innocent.\nUphold the law.').group()
'Serve the public trust.'

˃˃˃ newline_regex = re.compile('.*', re.DOTALL)
˃˃˃ newline_regex.search('Serve the public trust.\nProtect the innocent.\nUphold the law.').group()
'Serve the public trust.\nProtect the innocent.\nUphold the law.'

Review of Regex Symbols
Symbol  Matches
?   zero or one of the preceding group.
*   zero or more of the preceding group.
+   one or more of the preceding group.
{n}     exactly n of the preceding group.
{n,}    n or more of the preceding group.
{,m}    0 to m of the preceding group.
{n,m}   at least n and at most m of the preceding p.
{n,m}? or *? or +?  performs a nongreedy match of the preceding p.
^spam   means the string must begin with spam.
spam$   means the string must end with spam.
.   any character, except newline characters.
\d, \w, and \s  a digit, word, or space character, resectively.
\D, \W, and \S  anything except a digit, word, or space acter, respectively.
[abc]   any character between the brackets (such as a, b, ).
[^abc]  any character that isn’t between the brackets.
Case-Insensitive Matching

To make your regex case-insensitive, you can pass re.IGNORECASE or 
re.I as a second argument to re.compile():

˃˃˃ robocop = re.compile(r'robocop', re.I)

˃˃˃ robocop.search('Robocop is part man, part machine, all cop.').group()
'Robocop'

˃˃˃ robocop.search('ROBOCOP protects the innocent.').group()
'ROBOCOP'

˃˃˃ robocop.search('Al, why does your programming book talk about robocop so much?').group()
'robocop'

Substituting Strings with the sub() Method

The sub() method for Regex objects is passed two arguments:

    The first argument is a string to replace any matches.
    The second is the string for the regular expression.

The sub() method returns a string with the substitutions applied:

˃˃˃ names_regex = re.compile(r'Agent \w+')

˃˃˃ names_regex.sub('CENSORED', 'Agent Alice gave the secret documents to Agent Bob.')
'CENSORED gave the secret documents to CENSORED.'

Another example:

˃˃˃ agent_names_regex = re.compile(r'Agent (\w)\w*')

˃˃˃ agent_names_regex.sub(r'\1ºººº', 'Agent Alice told Agent Carol that Agent Eve knew Agent Bob was a double agent.')
Aºººº told Cºººº that Eºººº knew Bºººº was a double agent.'

Managing Complex Regexes

To tell the re.compile() function to ignore whitespace and comments 
inside the regular expression string, “verbose mode” can be 
enabled by passing the variable re.VERBOSE as the second argument to 
re.compile().

Now instead of a hard-to-read regular expression like this:

phone_regex = re.compile(r'((\d{3}|\(\d{3}\))?(\s|-|\.)?\d{3}(\s|-|\.)\d{4}(\s*(ext|x|ext.)\s*\d{2,5})?)')

you can spread the regular expression over multiple lines with comments like this:

phone_regex = re.compile(r'''(
    (\d{3}|\(\d{3}\))?            # area code
    (\s|-|\.)?                    # separator
    \d{3}                         # first 3 digits
    (\s|-|\.)                     # separator
    \d{4}                         # last 4 digits
    (\s*(ext|x|ext.)\s*\d{2,5})?  # extension
    )''', re.VERBOSE)
</pre>

<pre zoom labels="101,storage,persistence" id="file_dirs_summary">
<span xsmall>File and dirs</span>
─────────────────────────────────────────────────────────────
BºReading Files                    Writing Filesº
- read as str.                   │ with open('file1.txt', 'w') as f1:
  with open('file1.txt') as f1:  │     f1.write('...')     ^
    text = f1.read()             │                         │  
                                 │                w: (over)write
- read as str. list              │                a: Append 
  with open('file2.txt') as f2:  │
      f2.readlines()             │  
                                 │
- read+iterate on lines          │
  (much better memory ussage)    │
  with open('file2.txt') as f2:  │
      for line in f2:            │ 
          ...                    │
─────────────────────────────────────────────────────────────
                                      ºJoining pathsº
import os
os.path.join('usr', 'bin', 'spam')   ← Alt 1 'usr\\bin\\spam'
              ^
              1st arg frequently used: 
              - os.path.expanduser("~")
              - os.getcwd()

from pathlib import Path             ← Alt 2. (Python 3.4+) 
print(Path('usr') / 'bin' / 'spam')
      ^           ^                     RºWARNº: Don't use strings
      |          "=="                   to avoid Windows/Unix issues 
      |          .joinpath('bin')
     1st arg frequently used: 
     - Path.home() 
     - Path.cwd()                            
─────────────────────────────────────────────────────────────
BºManage dirsº
                                       ºCreate new dirs.º
˃˃˃ os.makedirs(dir01)                ← Alt 1 

˃˃˃ (... / 'dir01' / 'dir02')         ← Alt 2 (pathlib)
    .mkdir(parents=True)                True to create any intermediate
                                        file.

os.chdir('/usr/lib/python3.6')        ←ºChange current dir.º
─────────────────────────────────────────────────────────────
BºAbsolute/relative pathsº
                                       ºCheck path absolute/relativeº
os.path.isabs('/')                    ← Alt 1
Path('/').is_absolute()               ← Alt 2

                                       ºGet Absolut pathº
os.path.abspath('.')                  ← Alt 1
Path('..').resolve()                  ← Alt 2
/home
                        
                                       ºCalc. relative pathº
os.path.relpath('/etc/passwd', '/')   ← Alt 1 ('etc/passwd')
Path('/etc/passwd').relative_to('/')) ← Alt 2
─────────────────────────────────────────────────────────────
BºTesting files/dirsº
                                      Bºfile/dir. exists?º
os.path.exists('setup.py')            ← Alt 1
Path('setup').exists()                ← Alt 2

                                       ºpath is a file?º
os.path.isfile('setup.py')            ← Alt 1 (True)
Path('setup.py').is_file()            ← Alt 2

                                       ºpath is a dir.?º
os.path.isdir('setup.py')             ← Alt 1 (False)
Path('setup.py').is_dir()             ← Alt 2
─────────────────────────────────────────────────────────────
BºFetch File Size/Folder Contentº

                                        file's size in bytes?
os.path.getsize('file1.txt')          ← Alt 1.
Path('/bin/python3.6').stat()         ← Alt 2.  # stat object:
                                        st_gid=0,
                                       ºst_size=10024º
                                        st_atime=1517725562
                                        st_mtime=1515119809
                                        st_ctime=1517261276

                                        Dir. content?
os.listdir('dir1')                    ← Alt1: ['f1.txt', 'f2.txt', ...]

for f in Path('dir1').iterdir():      ← Alt2
    ...
─────────────────────────────────────────────────────────────
BºCopy/move files/foldersº
import shutil, os
shutil.copy('file01', 'dir02')        ← Copy single file
shutil.copytree('dir1', 'dir2')       ← Copy entire folder

shutil.move('file01', 'dir02')        ← Move single file
─────────────────────────────────────────────────────────────
Bºdelete Files/Folders (Permanently)º
                                        delete file permanently:
os.unlink(path)                       ← alt 1
Path.unlink()                         ← alt 2

                                       delete dir permanently:
os.rmdir(path)                       ← alt 1 (dir must be empty)
Path.rmdir()                         ← alt 2 (dir must be empty)

shutil.rmtree(path)                  ← alt 3. del folder recursively

                                      
- Presetup 
$$º pip install send2trashº 
import send2trash                    ← send to trash 
send2trash.send2trash('f1.txt')
─────────────────────────────────────────────────────────────
BºWalking Directory Treeº
for dir01, subdirs, filenames in os.walk('path1'):
    ...
    for subfolder in subdirs:
        ...
    for filename in filenames:
        ...

    print('')

─────────────────────────────────────────────────────────────
import shelve                         ←ºSaving (Config) Varsº
var_list01 = ['val1', ... ]
with shelve.open('mydata') as conf:
    conf['var_list01'] = var_list01


with shelve.open('mydata') as conf:   ←ºread variablesº
    print(type(conf))                   (˂class 'shelve.DbfilenameShelf'˃)
    print(list(shelf_file.keys()))
    print(list(shelf_file.values()))
    var_list01 = conf['var_list01'])


vars2Save = [
 {'key0': 'val0', 'key2': 'val2', },
 {'key0': 'val3', 'key2': 'val4', },
]
import pprint                         ←ºSaving vars as python codeº
with open('conf.py', 'w') as conf:   
    conf.write('cats = {}\n'.format(pprint.pformat(cats)))
─────────────────────────────────────────────────────────────
BºWorking with ZIP Filesº
import zipfile                        ← Read ZIP File
import ZipFile from zipfile
with ZipFile('f1.zip') as F:
    print(F.namelist())
    spam_info = F.getinfo('spam.txt') ← spam_info:
                                        spam_info.file_size
                                        spam_info.compress_size
    
with ZipFile('f1.zip') as F:  
    F.extractall()                    ← Extract all files
                                        into current work.dir.
    F.extract('spam.txt'))            ← Extract single file.


with ipFile('f1.zip', 'w') as F:      ← Create+add to ZIP Files
    F.write('spam.txt', 
    compress_type=zipfile.ZIP_DEFLATED)
─────────────────────────────────────────────────────────────
BºJSON/YAML filesº

import json                             Open a JSON file with:
with open("filename.json", "r") as f:
    content = json.loads(f.read())

import json                           ← Write a JSON file 
json = {"key1": "val1",...} 
with open("f1.json", "w") as f:
    f.write( json.dumps(content, indent=2))

                                        Reading YAML files
- Presetup 
$º$ pip3 install Ruamel.yamlº         ← Very good yaml support
$º$ pip3 install anyconfig  º         ← abstracts away  underlying conf.
                                        file format. (JSON,YAML,TOML,...)

                                      Open AML file:
from ruamel.yaml import YAML          ← Alt 1: ruamel lib
with open("file01.yaml") as f:
    yaml=YAML()
    yaml.load(f)
Usage:

import anyconfig                      ← Alt 2: anyconfig
conf1 = anyconfig.load("file01.yml")
</pre>
</div>

<div groupv>
<span title>Handling modules projects</span>
<pre zoom labels="containerization,devops,">
<span xsmall>virtualenv</span>
Use Cases for Virt. Enviroments:
  - test python code in encapsulated environments 
  - avoid filling the base Python installation with
    libraries we might use for only one project.

ºInstallº
$ pip3 install virtualenv             # Linux/...
$ pip3 install virtualenvwrapper-win  # Windows

ºUsage:º
$ mkvirtualenv HelloWold # ← Make new Virtual Environment
  ^^^^^^^^^^^^^^^^^^^^^^ 
  Anything installed from there one will be specific to
  the HellowWorld project and available to the projects
  we connect to this environment.

$ ºsetprojectdirº .  # ← binds current virtualenv current working dir.

$ ºdeactivateº         # ← Deactivates virtualenv

$ ºworkonº HelloWorld   # ← Reconnect to HelloWorld vir.env.
</pre>

<pre zoom labels="containerization,devops,">
<span xsmall>poetry</span>
<span xsmall>(mvn/npm/... 4 Py)</span>
- Packaging and packagin dependency tool.

ºInstallº
$ pip3 install --user poetry

ºUssageº

$ poetry new my-project  # ← Create new project
Output layout:
 my-project
 ├── Oºpyproject.tomlº  ← orchestrate project and dependencies
 ├── README.rst
 ├── poetry_demo
 │   └── __init__.py
 └── tests
     ├── __init__.py
     └── test_poetry_demo.py

ºpyproject.toml exampleº
| º[tool.poetry]º
| name = "my-project"
| version = "0.1.0"
| description = ""
| authors = ["your name ˂your@mail.com˃"]
| 
| º[tool.poetry.dependencies]º
| python = "*"
| pendulum = "^1.4"              ← Edit manually or use "$ poetry add pendulum"
| 
| º[tool.poetry.dev-dependencies]º
| pytest = "^3.4"

$ poetry ºinstallº      # ← Install declared dependencies

$ poetry ºremoveº pendulum  # ← remove dependencry (or edit pryp

</pre>



<pre zoom labels="qa,devops,">
<span xsmall>Modules</span>
  
alt 1                          alt 2
import random, sys, os, math   from random import *.
print(random.randint(1, 10))   print(randint(1, 10))

º__main__ º
Top-level script environment

__main__ is the name of the scope in which top-level code executes. A 
module’s name is set equal to __main__ when read from standard 
input, a script, or from an interactive prompt.

A module can discover whether or not it is running in the main scope 
by checking its own __name__, which allows a common idiom for 
conditionally executing code in a module when it is run as a script 
or with python -m but not when it is imported:

˃˃˃ if __name__ == "__main__":
...     # execute only if run as a script
...     main()

For a package, the same effect can be achieved by including a main.py 
module, the contents of which will be executed when the module is run 
with -m.

For example we are developing script which is designed to be used as 
module, we should do:

˃˃˃ # Python program to execute function directly
˃˃˃ def add(a, b):
...     return a+b
...
˃˃˃ add(10, 20) # we can test it by calling the function save it as calculate.py
30
˃˃˃ # Now if we want to use that module by importing we have to comment out our call,
˃˃˃ # Instead we can write like this in calculate.py
˃˃˃ if __name__ == "__main__":
...     add(3, 5)
...
˃˃˃ import calculate
˃˃˃ calculate.add(3, 5)
8

Advantages
  Every Python module has it’s __name__ defined and if this is 
  __main__, it implies that the module is being run standalone by the 
  user and we can do corresponding appropriate actions.
  If you import this script as a module in another script, the name 
  is set to the name of the script/module.
  Python files can act as either reusable modules, or as standalone 
  programs.
  if __name__ == “main”: is used to execute some code only if 
   the file was run directly, and not imported.

ºsys moduleº
import sys
sys.exit()
</pre>

<pre zoom labels="devops">
<span xsmall bgorange>setup.py</span>
The setup script is the centre of all activity in building, 
distributing, and installing modules using the Distutils. The main 
purpose of the setup script is to describe your module distribution 
to the Distutils, so that the various commands that operate on your 
modules do the right thing.

The setup.py file is at the heart of a Python project. It describes 
all of the metadata about your project. There a quite a few fields 
you can add to a project to give it a rich set of metadata describing 
the project. However, there are only three required fields: name, 
version, and packages. The name field must be unique if you wish to 
publish your package on the Python Package Index (PyPI). The version 
field keeps track of different releases of the project. The packages 
field describes where you’ve put the Python source code within your 
project.

This allows you to easily install Python packages. Often it's enough 
to write:

python setup.py install

and module will install itself.

Our initial setup.py will also include information about the license 
and will re-use the README.txt file for the long_description field. 
This will look like:

˃˃˃ from distutils.core import setup
˃˃˃ setup(
...    name='pythonCheatsheet',
...    version='0.1',
...    packages=['pipenv',],
...    license='MIT',
...    long_description=open('README.txt').read(),
... )

Find more information visit http://docs.python.org/install/index.html.
</pre>

<pre zoom>
<span xsmall>pipenv (Official Packaging Tool)</span>
@[https://github.com/pypa/pipenv]
@[https://pipenv.readthedocs.io/en/latest/]

- "Replaces" old pip
  ºRWARN,WARN,WARN:º Read also (exaggerated but still pertinent) critics @
  @[https://chriswarrick.com/blog/2018/07/17/pipenv-promises-a-lot-delivers-very-little/]

Bºpipenv Summaryº:
  - Install a virtual Python environment inside a given (development) directory:  
  - Python equivalent to other package managers:
    (Ruby bundler, PHP-composer, NodeJS npm|yarn, RUST-cargo,...)
  - Reports dependency graph.
  - Streamline development workflow by loading .env files.
  

BºPRE-SETUP-STEP 1) INSTALL PIPENVº (Just once)
  $ sudo pip3 install        pipenv     # alt 1: For all users
  $      pip3 install --user pipenv     # alt 2: For current-user
                                                PATH must include current-user base.
                                                (Check it with "python -m site --user-base" 
                                                 Output will be similar to /home/myuser/.local )
  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  Upgrade at any time with:
  $ sudo pip3 install        --upgrade pipenv # alt 1: all users
  $      pip3 install --user --upgrade pipenv # alt 2: current-user
  
  ºPRE-SETUP-STEP 2) UPDATE PIPENVº (Just once afect PRE-SETUP-STEP 1)
  $ pipenv --update   # ← Update index?

BºUSSAGEº 
  $ cd "my_project_dir"
  $ pipenv  # ← display short help of commands|options.
  
  $ pipenv   install "package"  # ← install package 
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
    Creates also:
    - 'Pipfile'     : - info about installed packages (name, version, ...), used for re-installs
    - 'Pipfile.lock': - local system information
                      - ALL the dependencies of the installed package plus hashes
      ^^^^^^^^^^^^^^ 
      Automatically update with each new package un/install
  
  
  $ pipenv update   # ← uninstall all packages, then
                       re-install to latest compatible version.
  
  $ pipenv uninstall "package" ← Uninstall Package
  $ pipenv uninstall --all     ← Uninstall all Packages
  
  $ pipenv shell ←ºActivate the Virtual Environmentºassociated with the (Pipfile)  Python project
  $ exit         ←ºExit the Virtual Environmentº


BºTROUBLESHOOTINGº 
  $ pipenv --venv  # ← Show where virtual-environment for project is stored
                       Output will be similar to
                       ~/.local/share/virtualenvs/project01-...
  
  $ pipenv --where  # ← Shows project (vs virt.env) home details 

  $ pipenv check # ← check:
                     - package integrity
                     - security vulnerabilities
                     - PEP 508 markers provided in Pipfile.
  
  $ pipenv graph # ← Report dependency graph
</pre>

<pre zoom labels="devops,windows">
<span xsmall>Anaconda</span>
Package manager targeting engineers and scientist using Numpy/Scipy.
Mostly used in Windows.
$ conda create -n HelloWorld python=3.7 # ← Make a Virtual Environment 
$ conda activate HelloWorld  # ← activate/use the Virt. Env
  ^^^^^^^^^^^^^^^^^^^^^^^^^ 
  Anything installed now will be specific to the project HelloWorld

$ conda env export ˃ environment.yml # ← save all needed info to recreate the environment
                                         Recreate later on with:
                                         $ conda env create -f environment.yml

$ conda deactivate           # ← Exit Virt.Env
</pre>
</div>

<div groupv>
<pre zoom labels="web" TODO>
<span xsmall>Django</span>
</pre>
<pre zoom labels="">
<span xsmall TODO>Django 3.0 Async</span>
@[https://mobile.linuxtoday.com/developer/django-3-taps-python-async-to-speed-web-apps.html]
(Python 3.6+ required)

Django 3.0 supports Python async, one of the most powerful new features in Python
to make websites and network services faster.
- existing applications must be rewritten to use it.

</pre>

</div>

<div groupv>
<span title>Non Classifed</span>
<pre zoom labels="">
<span xsmall>TinyP2P</span>
# tinyp2p.py 1.0                                                                                                                                             
#  (documentation at http://freedom-to-tinker.com/tinyp2p.html)
# (C) 2004, E.W. Felten
# license: http://creativecommons.org/licenses/by-nc-sa/2.0
import sys, os, SimpleXMLRPCServer, xmlrpclib, re, hmac
ar,pw,res = (sys.argv,lambda u:hmac.new(sys.argv[1],u).hexdigest(),re.search)
pxy,xs = (xmlrpclib.ServerProxy,SimpleXMLRPCServer.SimpleXMLRPCServer)
def ls(p=""):
    return filter(lambda n: (p=="")or res(p,n),os.listdir(os.getcwd()))

if ar[2]!="client":
    myU,prs,srv = ("http://"+ar[3]+":"+ar[4], ar[5:],lambda x: x.serve_forever())
def pr(x=[]):
    return ([(y in prs) or prs.append(y) for y in x] or 1) and prs
def c(n):
    return ((lambda f: (f.read(), f.close()))(file(n)))[0]
f=lambda p,n,a: (p==pw(myU))and(((n==0)and pr(a))or((n==1)and [ls(a)])or c(a))
def aug(u):
    return ((u==myU) and pr()) or pr(pxy(u).f(pw(u),0,pr([myU])))

pr() and [aug(s) for s in aug(pr()[0])]
(lambda sv:sv.register_function(f,"f") or srv(sv))(xs((ar[3],int(ar[4]))))
for url in pxy(ar[3]).f(pw(ar[3]),0,[]):
    for fn in filter(lambda n:not n in ls(), (pxy(url).f(pw(url),1,ar[4]))[0]):
        (lambda fi:fi.write(pxy(url).f(pw(url),2,fn)) or fi.close())(file(fn,"wc"))

</pre>

<pre zoom labels="">
<span xsmall>Graphics: Plotly</span>
@[https://plot.ly/python/]
- graphing library for interactive, PUBLICATION-QUALITY GRAPHS.
 line plots, scatter plots, area charts, bar charts, error bars,
  box plots, histograms, heatmaps, subplots, multiple-axes,
  polar charts, bubble charts.

</pre>
<pre zoom labels="">
<span xsmall TODO>Advanced Collections</span>
Collections module
@[https://docs.python.org/3/library/collections.html]
(Advanced collections)

- Advanced Collections:
  -ºdefaultdict:ºdictionary with default values!!!
                 Never None or KeyNotFound Exceptions
    dictA = defaultdict(lambda: 0) # ← Default to 0,0
    dictA[(1,1)] += 1
    dictA[(2,2)] += 1

  -ºCounter:º Ex:
    myIterable = "this string feeds the counterA"
    counterA = Counter(myIterable)
    counterB = Counter({"a": 1, "b": 2})
    - counter instances allows to be added, substracted, united, intersected.
      counterC = counterA + counterB

  - deque: Double linked list. 
           Faster insertions/deletions than standard list.
           Random access is slower.
</pre>
</div>
 
<div groupv>
<span title>Image Processing</span>
<pre zoom labels="">
<span xsmall>pillow</span>
@[https://python-pillow.org/]
modern version of PIL
</pre>
<pre zoom labels="">
<span xsmall>scikit-image</span>
– a collection of algorithms for image processing.
</pre>

<pre zoom labels="">
<span xsmall TODO>imageio</span>
- library with simple interface to read/write a wide range of image data,
  (animated images, volumetric data, scientific formats, ...)
</pre>
</div>

<div group>
    <span title>Un ordered notes</span><br/>
<pre zoom labels="ui,low_code,TODO">
<span xsmall TODO>click</span>
<span xsmall>cli intefaces</span>
 – package for creating beautiful command line interfaces
   in a composable way with as little code as necessary.
</pre>
<pre zoom labels="">
<span xsmall TODO>pyparsing</span>
- parsing module.
</pre>
<pre zoom labels="devops">
<span xsmall TODO>Hydra: Complex App Config</span>
@[https://engineering.fb.com/open-source/hydra/]
@[https://github.com/facebookresearch/hydra]
@[https://hydra.cc/]

Lightweight framework simplifying development of complex applications
, by introducing the ability to compose and override configurations.
without having to rewrite significant portions of code,  
dramatically reducing boilerplate code for:
- command-line flags
- manipulating configuration files
- configuring logging.

- ºFuture plugins will enable launching code on AWS/...º

Other features include:
- Dynamic command-line tab completion
- ability to launch applications remotely taking advantage
  of more resources than are locally available
- The ability to run multiple jobs with different arguments with a single 
  command, eliminating the need for related support scripts

- already in use at Facebook to prototype complex research projects. 
</pre>
<pre zoom labels="data">
<span xsmall TODO>Scrapy Web Crawler</span>
@[https://scrapy.org/]
- framework for extracting the data from websites.

See also:
- Scrapping the web with ARMs. (TODO)
@[https://dxmtechsupport.com.au/speed-test-x86-vs-arm-for-web-crawling-in-python]
</pre>

<pre zoom labels="">
<span xsmall TODO>SQLAlchemy ORM</span>
@[https://www.sqlalchemy.org/]

ºThe main goal of SQLAlchemy is to change the way you think about databases and SQL!º

- full suite of well known enterprise-level persistence patterns,
  designed for efficient and high-performing database access.

SQLALCHEMY'S PHILOSOPHY
- SQL databases behave less like object collections the more size and 
  performance start to matter; object collections behave less like tables and 
  rows the more abstraction starts to matter. SQLAlchemy aims to accommodate 
  both of these principles.

- SQLAlchemy considers the database to be a relational algebra engine,
  not just a collection of tables. Rows can be selected from not only tables
  but also joins and other select statements; any of these units can be
  composed into a larger structure.

- SQLAlchemy's overall approach to ORM is entirely different from that of
  most other SQL / ORM tools, rooted in a so-called complimentarity- oriented
  approach; instead of hiding away SQL and object relational details behind a 
  wall of automation, all processes are fully exposed within a series of 
  composable, transparent tools. The library takes on the job of automating 
  redundant tasks while the developer remains in control of how the database is 
  organized and how SQL is constructed.


- dialects for SQLite, Postgresql, MySQL, Oracle, MS-SQL, Firebird, Sybase and others,
</pre>

<pre zoom labels="data,performance">
<span xsmall>Joblib (NumPy Serialization)</span>
@[https://pypi.org/project/joblib/]
- Alternative to Pickle to serialize NumPy matrices, ...

- transparent disk-caching of functions and lazy re-evaluation (memoize pattern)
- easy simple parallel computing
</pre>
<pre zoom labels="testing,devops">
<span xsmall>Tox </span>
@[https://tox.readthedocs.io/en/latest/]
generic "virtualenv" management and test command line tool for:
- checking package installs with different Python versions and interpreters
- running your tests in each of the environments
- frontend wrapper to Continuous Integration servers, greatly reducing
  boilerplate and merging CI and shell-based testing.
</pre>

<pre zoom labels="text_processing,">
<span xsmall TODO>Jinja2 Template engine</span>

</pre>

<pre zoom labels="serverless,web,performance,TODO">
<span xsmall>Falcon (Microservices)</span>
https://falconframework.org/
- Falcon is a blazing fast, minimalist Python web API framework for 
  building reliable app backends and microservices.
  Falcon compiles itself with Cython when available, and 
  also works well with PyPy.


  s a WSGI server and performs a GET request directly on each 
framework's PEP-3333 app. Requests are not sent over the network, 
since the performance of a given network or web server is not related 
to the performance of the WSGI frameworks themselves. Regardless, 
each app parses a route template with a single embedded parameter, 
reads a query parameter and a header from the request data, sets an 
x-header on the response, and finally returns a 10 KiB body, randomly 
generated.

  Method. 50,000 iterations were executed per trial (100,000 for the 
PyPy tests), and the best time was recorded for each framework over 
20 trials. The order in which the frameworks were tested was 
randomized for each trial. Also, garbage collection was enabled as it 
would be in a production environment, and a full collection was 
forcefully triggered before each trial. Finally, results were 
calculated using the Decimal class, and rounded to the nearest whole 
number.

  Platform. Benchmarks were executed by running the corresponding 
Docker images on a Google Compute Engine instance (Intel Skylake, 
1vCPU, 2 GB RAM), running Ubuntu 18.04 with all system packages 
updated to their latest versions as of May 2019. The frameworks were 
tested on several different versions of Python.
                     speedup  req/sec     μs/req
    Falcon  (2.0.0)      75x  330.676       3.02
    Bottle  (0.12.16)    37x  162.274       6.16
    Werkzeug(0.15.4)     11x   47.395      21.10
    Flask (1.0.2)        8x    36.746      27.21
- Considering a move to another programming language?
  Benchmark with Falcon + PyPy first.
- Used by LinkedIn, Leadpages, Wargaming, and Rackspace rely on Falcon for critical projects.



TODO: https://dzone.com/articles/python-falcon-microservice-with-mongodb-and-docker

</pre>

<pre zoom labels="text_processing,TODO" bgorange>
<span xsmall>Pyline (text-utils like)</span>
@[https://pypi.org/project/pyline/]
Pyline is a grep-like, sed-like, awk-like command-line tool for 
line-based text processing in Python.

ls | pyline -m os 'line and os.path.abspath(line.strip())'
ls | pyline -r '\(.*\)' 'rgx and (rgx.group(0), rgx.group(1)) or line'
ls | pyline -p 'p and p.abspath() or ("# ".format(line))'

# With an extra outer loop to bind variables in
# (because (_p = p.abspath(); <codeobj>) does not work)
find $PWD | pyline --pathpy -m os -m collections --input-delim='/' \
    'p and [collections.OrderedDict((
            ("p", p),
            ("_p", _p),
            ("_p.split()", str(_p).split(os.path.sep)),
            ("line.rstrip().split()", line.rstrip().split(os.path.sep)),
            ("l.split()", l.split(os.path.sep)),
            ("words", words),
            ("w", w)))
        for _p in [p.abspath()]][0]' \
       -O json
<hr/>
<span xsmall>python-pipes</span>
https://github.com/gibiansky/python-pipes

A streaming framework in Python, roughly inspired by the Haskell pipes library.

The module is in pipes.py.

This module defines a library for streaming operations, composed 
using the ˃˃ operator. This allows for easy to read and write shell-like pipelines, such as:

# Count the number of lines on standard input.
num_lines = cat("/dev/stdin") ˃˃ count()
# Count the number of unique values in the 3rd column.
# Return a counter of values, e.g. {"a": 10, "b": 3}.
counts = cat("/dev/stdin") ˃˃ column(3) ˃˃ uniques
</pre>


</div>
</body>
</html>
<!--
____________________________
https://blog.adrianistan.eu/cosas-no-sabias-python
__________________________
Sphinx-Doc:
http://www.sphinx-doc.org/en/master/
_________________________
Python Progress Indicator PyPrind:
  https://pypi.python.org/pypi/PyPrind/
________________
<pre zoom labels="">
<span xsmall>Regex</span>
@[https://docs.python.org/3.6/library/re.html]
@[https://developers.google.com/edu/python/regular-expressions]
</pre>
______________________
Type hints:
https://docs.python.org/3/library/typing.html
https://pydantic-docs.helpmanual.io/
______________________
https://www.pypa.io/en/latest/


______________________
ZOPE: {{{
    Zope 3 Quick Start  http://www.benjiyork.com/quick_start.txt
    Zope Debugger It requires no changes to Zope, CMF or Plone or any funky interaction with any specific kind of editing software. All you really need to do is insert the snippet above and make sure your Zope instance is running in foreground mode.   http://www.simplistix.co.uk/software/zope/zdb
    Diagrama UML ZODB. Ver también la wiki de ZODB:http://www.zope.org/Wikis/ZODB/FrontPage http://www.zope.org/Documentation/Developer/Models/ZODB
        
    ZopeLabs.comRecetas de Zope/Plone   http://zopelabs.com/
    Plone How-to    http://plone.org/documentation/how-to/howtofolder_view
    The Plone Book  http://plone-book.agmweb.ca/
    TextIndexNG3 Incluye DocumentConverters, SimilaritySearch, Near-search and phrase search, PluggableParsers, stop word support, full integration in ZCatalog, TestFunctionality through ZMI, ExtensibleArchitecture, left, right truncation, full globbing support (wildcard search), ,NormalizationSupport (e.g. reducing accented characters to their base form), full UnicodeAwareness, optional auto-expansion support, range searches like "Fi..Foo", substring searches "substring", m    ulti-field support, multi-language support.  Requires Zope 2.8 or Zope 2.7 + Five or Zope 3. http://opensource.zopyx.biz/OpenSource/TextIndexNG3"
    Customizing Plone Archetypes    http://www.neuroinf.de/PloneDevTutorial/ate
    z3erp   http://www.z3erp.org
    ERP5    http://www.erp5.org/
    Zope Asynchronous Call Manager (zasync) es un producto para Zope 2 que habilita la ejecución de tareas de forma asíncrona. Si la aplicación necesita que los usuarios sean capaces de realizar peticiones de trabajos intensos de larga duración, pero el usuario (y el hilo/thread de Zope) no deben quedar a la espera de su finalización, zasync es una posible solución. Cuando el resultado del trabajo está disponible, zasync soporta simultáneamente "push" y "pull": La respuesta     puede "disparar" expresiones TALES ejecutadas en el contexto de seguridad del usuario que realizó la llamada, o el gestor de llamadas (call manager) puede ser encuestado/monitorizado (polled) para ver si la respuesta está disponible.    http://www.zope.org/Members/poster/zasync
    Plone Tips&amp;Tricks:Rudd-O.com    http://rudd-o.com/en/linux-and-free-software
    Finding the last changed object in a ZODB.  http://blogs.nuxeo.com/dev/2006/06/finding-last-changed-object-in-zodb.html
    Presentación:Connecting Plone with Salesforce.com   http://www.slideshare.net/ifPeople/connecting-plone-and-salesforce-webinar
    Blogs & Forums using Plone 3    http://www.packtpub.com/article/blogs-forums-using-plone-3
    Plone 3 Themes  http://www.packtpub.com/article/plone-3-themes
        
    Course de Plone 3/4 (en Francais)   http://cours-plone-niveau-1.ecreall.com/
}}}
__________________
https://linuxize.com/post/python-delete-files-and-directories/
______________________
https://en.wikipedia.org/wiki/ReStructuredText
reStructuredText (RST, ReST, or reST) is a file format for textual data used 
primarily in the Python programming language community for technical 
documentation.

It is part of the Docutils project of the Python Doc-SIG (Documentation Special 
Interest Group), aimed at creating a set of tools for Python similar to Javadoc 
for Java or Plain Old Documentation (pod) for Perl. Docutils can extract 
comments and information from Python programs, and format them into various 
forms of program documentation.[1] 
________________________
https://linuxconfig.org/how-to-create-and-manipulate-tar-archives-using-python
_________________
online SymPY console:
https://live.sympy.org/
_______________________
https://medium.com/better-programming/understanding-best-practice-python-tooling-by-comparing-popular-project-templates-6eba49229106
Understanding Best Practice Python Tooling by Comparing Popular Project Templates
Use Flake8, pytest, and Sphinx in your current Python project. Also evaluate pre-commit, Black, and Pylint. For your next project, consider adding Poetry and Dependabot.
__________________
https://github.com/CCExtractor/vardbg 
GitHub - CCExtractor/vardbg: A simple Python debugger and profiler that generates animated visualizations of program flow.
__________________________________
Network programming Quick Sheet:
https://www.comparitech.com/net-admin/python-network-programming-cheat-sheet/
https://cdn.comparitech.com/wp-content/uploads/2019/11/Network-Programming-with-Python-Cheat-Sheet-5.jpg
_________________________________
https://github.com/peterbrittain/asciimatics
Asciimatics is a package to help people create full-screen text UIs 
(from interactive forms to ASCII animations) on any platform. It is 
licensed under the Apache Software Foundation License 2.0.

"...It brings a little joy to anyone who was programming in the 80s..."

Oh and it provides a single cross-platform Python class to do 
all the low-level console function you could ask for, including:

  - Coloured/styled text - including 256 colour terminals and unicode 
    characters (even CJK languages)
  - Cursor positioning
  - Keyboard input (without blocking or echoing) including unicode 
    support
  - Mouse input (terminal permitting)
  - Detecting and handling when the console resizes
  - Screen scraping

In addition, it provides some simple, high-level APIs to provide more 
complex features including:

  - Anti-aliased ASCII line-drawing
  - Image to ASCII conversion - including JPEG and GIF formats
  - Many animation effects - e.g. sprites, particle systems, banners, 
    etc.
  - Various widgets for text UIs - e.g. buttons, text boxes, radio 
    buttons, etc.

- This package has been proven to work on CentOS 6 & 7, Raspbian 
  (i.e. Debian wheezy), Ubuntu 14.04, Windows 7, 8 & 10, OSX 
  10.11 and Android Marshmallow (courtesy of https://termux.com), 
- It should also work for any other platform that provides a 
  working curses implementation.
______________________
https://www.edwardtufte.com/tufte/
Edward Tufte is a statistician and artist, and Professor Emeritus of 
Political Science, Statistics, and Computer Science at Yale 
University. He wrote, designed, and self-published 4 classic books on 
data visualization. The New York Times described ET as the "Leonardo 
da Vinci of data," and Bloomberg as the "Galileo of graphics." He is 
now completing a book Meaning, Space, Models, Data, Truth, and 
constructing a 234-acre tree farm and sculpture park in northwest 
Connecticut, which will show his artworks and remain open space in 
perpetuity. He founded Graphics Press, ET Modern Gallery/Studio, and 
Hogpen Hill Farms. 
__________________
_____________
top like python profiler
https://jvns.ca/blog/2018/09/08/an-awesome-new-python-profiler--py-spy-/
_______________
https://www.itprotoday.com/programming-languages/python-39-brings-timely-improvements-programming-language
________________
https://github.com/robinhood/faust
Faust is a stream processing library, porting the ideas from Kafka 
Streams to Python.

It is used at Robinhood to build high performance distributed systems 
and real-time data pipelines that process billions of events every 
day.

Faust provides both stream processing and event processing, sharing 
similarity with tools such as Kafka Streams, Apache 
Spark/Storm/Samza/Flink,

It does not use a DSL, it's just Python! This means you can use all 
your favorite Python libraries when stream processing: NumPy, 
PyTorch, Pandas, NLTK, Django, Flask, SQLAlchemy, ++
______________
QA: https://stackoverflow.com/questions/1428872/pylint-pychecker-or-pyflakes
PyChecker checks at "compile time"
______________________
https://wiki.python.org/moin/Pyrex
Pyrex is a Python-like language for rapidly and easily writing python 
extension modules. It can be described as python with C data types. 
With Pyrex, one can produce Python-like code that runs as fast as in 
C, with easy access to C libraries and functions.

The Pyrex homepage is at http://www.cosc.canterbury.ac.nz/~greg/python/Pyrex/
________________
https://pypi.org/project/hachoir/
Hachoir is a Python library to view and edit a binary stream field by 
field. In other words, Hachoir allows you to “browse” any binary 
stream just like you browse directories and files.

A file is splitted in a tree of fields, where the smallest field is 
just one bit. Examples of fields types: integers, strings, bits, 
padding types, floats, etc. Hachoir is the French word for a meat 
grinder (meat mincer), which is used by butchers to divide meat into 
long tubes; Hachoir is used by computer butchers to divide binary 
files into fields.
______________________
Best of the best. Spreedsheet in 4 lines.
https://code.activestate.com/recipes/langs/python/
__________________
Low code , cli, UI: 
https://click.palletsprojects.com/en/7.x/
Click is a Python package for creating beautiful command line 
interfaces in a composable way with as little code as necessary. 
It’s the “Command Line Interface Creation Kit”. It’s highly 
configurable but comes with sensible defaults out of the box.

https://github.com/tiangolo/typer
Typer is a library for building CLI applications that users will love 
using and developers will love creating. Based on Python 3.6+ type 
hints.
________________________
Python, mach learning: Top 10 Python libraries of 2020 you should know about | Tryolabs Blog
https://tryolabs.com/blog/2020/12/21/top-10-python-libraries-of-2020/ 

https://github.com/urwid/urwid
___________________
The Xonsh Shell
https://xon.sh/ 
_______________________
Python libraries to make your code readable, reliable and maintainable | Blog isaak.dev
https://isaak.dev/2020/08/python-libraries-to-make-your-code-readable-and-maintainable 
______________________
Facebook open-sources a static analyzer for Python code - Help Net Security
https://www.helpnetsecurity.com/2020/08/10/python-static-analyzer/ 
______________
Pylance
https://www.infoq.com/news/2020/07/pylance-visual-studio-code/
standard format for packaging and distributing type information.
https://www.python.org/dev/peps/pep-0561/
___________________
Python Backdoor, fully undetectable and rich in features | Hacker Milk
https://www.hackermilk.info/2020/06/python-backdoor-fully-undetectable-and.html?m=1 
________________
@[https://www.infoq.com/news/2021/01/google-python-atheris-fuzzing/]
Google recently announced the open-sourcing of a new fuzzy testing 
engine for Python. The new fuzzer, Atheris, strives to find bugs in 
Python code and native extensions in Python 2.7 and Python 3.3+. 
Atheris can be used in combination with the Address Sanitizer and 
Undefined Behavior Sanitizer tools that detect memory corruption bugs 
and undefined behavior (e.g., buffer overflows, misaligned or null 
pointers).
  import atheris  
  import sys  
    
  def TestOneInput(data):  
  if data == b"bad":  
  raise RuntimeError("Badness!")  
    
  atheris.Setup(sys.argv, TestOneInput)  
  atheris.Fuzz()
_______________
READ CSV:
#!/usr/bin/env python3
import csv   # ← Standard module in Python3

if __name__ == '__main__':
    with open('lotr.csv', newline='') as csvfile:
        reader = csv.reader(csvfile)
        for row in reader:
            print(row)
____________________________
https://pythonspeed.com/docker/
Production-ready Docker packaging for Python developers
____________________________
with open('file1', 'a') as f1:
    f1.write('...')


-->

